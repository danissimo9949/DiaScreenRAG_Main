{% extends "base.html" %}
{% load static %}

{% block title %}Головна - DiaScreen{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/pages/home.css' %}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="bg-primary text-white py-5 mb-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-4 fw-bold mb-3 home-hero-title">DiaScreen</h1>
                <p class="lead mb-4 home-hero-lead">Веб-орієнтована інформаційна система для підтримки пацієнтів з цукровим діабетом</p>
                <p class="mb-0">Ваш надійний помічник у контролі та управлінні діабетом</p>
            </div>
        </div>
    </div>
</div>

{% if user.is_authenticated and profile_completion_warning %}
<div class="container mb-4">
    <div class="alert alert-warning d-flex align-items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.965 0L.165 13.233A1.13 1.13 0 0 0 1.049 15h13.902a1.13 1.13 0 0 0 .884-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
        </svg>
        <div>{{ profile_completion_warning }}</div>
        <a href="{% url 'profile_edit' %}" class="btn btn-sm btn-outline-warning ms-auto">Редагувати профіль</a>
    </div>
</div>
{% endif %}

{% if user.is_authenticated and patient_profile %}
<div class="container mb-5">
    <div class="card shadow-sm border-0 rounded-4 overflow-hidden welcome-card">
        <div class="row g-0 align-items-stretch">
            <div class="col-lg-4 bg-primary text-white p-4 d-flex flex-column justify-content-between">
                <div>
                    <p class="text-uppercase small mb-2 text-white-50 fw-semibold">Персональний профіль</p>
                    <h2 class="h3 fw-bold mb-2">{{ request.user.first_name|default:request.user.username }}</h2>
                    <p class="mb-3">
                        Тип діабету:
                        <strong>{{ patient_profile.get_diabetes_type_display|default:"—" }}</strong>
                    </p>
                    <p class="mb-0 small text-white-75">
                        Цільовий діапазон глюкози:
                        <strong>{{ target_glucose_min|floatformat:1 }}–{{ target_glucose_max|floatformat:1 }} ммоль/л</strong>
                    </p>
                </div>
                {% if daily_status %}
                <div class="rounded-4 px-3 py-3 status-pill {{ daily_status.css_class }}">
                    <div class="d-flex align-items-start gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="flex-shrink-0 mt-1" viewBox="0 0 16 16">
                            <path d="M8.982 1.566a1.13 1.13 0 0 0-1.965 0L.165 13.233A1.13 1.13 0 0 0 1.049 15h13.902a1.13 1.13 0 0 0 .884-1.767zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                        </svg>
                        <span class="fw-semibold">{{ daily_status.message }}</span>
                    </div>
                </div>
                {% endif %}
            </div>
            <div class="col-lg-8 p-4 p-lg-5 bg-white">
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="d-flex flex-column gap-2">
                            <span class="text-uppercase small text-muted fw-semibold">Останній замір глюкози</span>
                            {% if latest_glucose %}
                                <div class="display-6 fw-bold text-primary">{{ latest_glucose.glucose }} <span class="fs-5 fw-semibold">ммоль/л</span></div>
                                <p class="text-muted mb-2">
                                    {{ latest_glucose.date_of_measurement|date:"d.m.Y" }},
                                    {{ latest_glucose.time_of_measurement|time:"H:i" }}
                                    {% if latest_glucose.glucose_measurement_category %}
                                        • {{ latest_glucose.glucose_measurement_category }}
                                    {% endif %}
                                </p>
                            {% else %}
                                <p class="text-muted mb-0">Ще немає даних.</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="d-flex flex-column gap-2">
                            <span class="text-uppercase small text-muted fw-semibold">Остання інʼєкція інсуліну</span>
                            {% if latest_insuline %}
                                <div class="display-6 fw-bold text-primary">{{ latest_insuline.insuline_dose }} <span class="fs-5 fw-semibold">ОД</span></div>
                                <p class="text-muted mb-2">
                                    {{ latest_insuline.date_of_measurement|date:"d.m.Y" }},
                                    {{ latest_insuline.time|time:"H:i" }}
                                    • {{ latest_insuline.category }}
                                </p>
                            {% else %}
                                <p class="text-muted mb-0">Ще немає записів.</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-wrap gap-2 mt-4">
                    <a href="{% url 'card:patient_card' %}" class="btn btn-primary">
                        Відкрити картку
                    </a>
                    <a href="{% url 'chat' %}" class="btn btn-outline-primary">
                        Задати питання ШІ
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<div class="container my-5">
    <!-- Перший блок: ШІ-асистент медичний -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden home-card">
                <div class="card-header bg-gradient" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem;">
                    <div class="row align-items-center">
                        <div class="col-md-2 text-center mb-3 mb-md-0">
                            <div class="bg-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="text-primary" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                    <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="col-md-10">
                            <h2 class="text-white mb-2 fw-bold">ШІ-Асистент Медичний</h2>
                            <p class="text-white-50 mb-0">Розумний помічник для персоналізованої медичної підтримки</p>
                        </div>
                    </div>
                </div>
                <div class="card-body p-4 p-md-5">
                    <div class="d-flex flex-column flex-md-row align-items-stretch align-items-md-center justify-content-md-end gap-3 mb-4 home-cta-wrapper">
                        {% if user.is_authenticated %}
                        <a href="{% url 'chat' %}" class="btn home-cta-btn home-cta-btn--primary btn-lg fw-semibold shadow-sm">
                            Почати діалог з ШІ
                        </a>
                        {% else %}
                        <a href="{% url 'login' %}?next={% url 'chat' %}" class="btn home-cta-btn home-cta-btn--primary btn-lg fw-semibold shadow-sm">
                            Почати діалог з ШІ
                        </a>
                        {% endif %}
                    </div>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#667eea" viewBox="0 0 16 16">
                                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Інтелектуальний аналіз даних</h5>
                                    <p class="text-muted mb-0">ШІ-асистент аналізує ваші показники рівня цукру, дозування інсуліну та інші важливі параметри для надання персоналізованих рекомендацій.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#667eea" viewBox="0 0 16 16">
                                            <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                            <path d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">24/7 Консультації</h5>
                                    <p class="text-muted mb-0">Отримуйте миттєві відповіді на питання про діабет, дозування ліків, раціон харчування та інші важливі аспекти управління хворобою.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#667eea" viewBox="0 0 16 16">
                                            <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Прогнозування тенденцій</h5>
                                    <p class="text-muted mb-0">Система виявляє закономірності в ваших даних та прогнозує можливі зміни стану здоров'я, допомагаючи запобігати ускладненням.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#667eea" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 2.384 6.323a.75.75 0 0 0-.818 1.228l3.682 3.682a.75.75 0 0 0 1.06 0l3.682-3.682a.75.75 0 0 0-.818-1.228z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Персоналізовані рекомендації</h5>
                                    <p class="text-muted mb-0">Отримуйте індивідуальні поради щодо харчування, фізичної активності та управління інсуліном на основі ваших унікальних потреб.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-top">
                        <div class="alert alert-info mb-0" role="alert">
                            <div class="d-flex align-items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                </svg>
                                ШІ-асистент призначений для допомоги та підтримки, але не замінює консультації з лікарем. Завжди звертайтеся до медичних фахівців для важливих рішень.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Другий блок: Ведення записів по хворобі -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card shadow-lg border-0 rounded-4 overflow-hidden home-card">
                <div class="card-header bg-gradient" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 2rem;">
                    <div class="row align-items-center">
                        <div class="col-md-2 text-center mb-3 mb-md-0">
                            <div class="bg-white rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="text-danger" viewBox="0 0 16 16">
                                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                                    <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H2z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="col-md-10">
                            <h2 class="text-white mb-2 fw-bold">Ведення записів по хворобі</h2>
                            <p class="text-white-50 mb-0">Систематичний контроль та моніторинг вашого стану здоров'я</p>
                        </div>
                    </div>
                </div>
                <div class="card-body p-4 p-md-5">
                    <div class="d-flex flex-column flex-md-row align-items-stretch align-items-md-center justify-content-md-end gap-3 mb-4 home-cta-wrapper">
                        {% if user.is_authenticated %}
                        <a href="{% url 'card:patient_card' %}" class="btn home-cta-btn home-cta-btn--secondary btn-lg fw-semibold shadow-sm">
                            Відкрити картку пацієнта
                        </a>
                        {% else %}
                        <a href="{% url 'login' %}?next={% url 'card:patient_card' %}" class="btn home-cta-btn home-cta-btn--secondary btn-lg fw-semibold shadow-sm">
                            Відкрити картку пацієнта
                        </a>
                        {% endif %}
                    </div>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#f5576c" viewBox="0 0 16 16">
                                            <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Щоденний моніторинг цукру</h5>
                                    <p class="text-muted mb-0">Записуйте рівень глюкози в крові до та після прийому їжі, перед сном та в інші важливі моменти. Система автоматично створює графіки та аналізує тенденції.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#f5576c" viewBox="0 0 16 16">
                                            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Контроль інсуліну та ліків</h5>
                                    <p class="text-muted mb-0">Відстежуйте дозування інсуліну, час ін'єкцій та прийом інших медикаментів. Отримуйте нагадування про прийом ліків.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#f5576c" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Дієтичний денник</h5>
                                    <p class="text-muted mb-0">Ведіть детальний облік харчування: що та коли ви їли, кількість вуглеводів, калорій та хлібних одиниць. Система допоможе контролювати раціон.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#f5576c" viewBox="0 0 16 16">
                                            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                                            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.292-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.292c.415.764-.42 1.6-1.185 1.184l-.292-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.292A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Фізична активність</h5>
                                    <p class="text-muted mb-0">Записуйте фізичні вправи, тривалість тренувань та вплив на рівень цукру. Система допоможе оптимізувати режим фізичної активності.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#f5576c" viewBox="0 0 16 16">
                                            <path d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4z"/>
                                            <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Симптоми та самопочуття</h5>
                                    <p class="text-muted mb-0">Відстежуйте симптоми, зміни самопочуття, стрес та інші фактори, які можуть впливати на рівень глюкози.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-start mb-4">
                                <div class="flex-shrink-0">
                                    <div class="bg-light rounded-circle d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#f5576c" viewBox="0 0 16 16">
                                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="flex-grow-1 ms-3">
                                    <h5 class="fw-bold mb-2">Звіти та аналітика</h5>
                                    <p class="text-muted mb-0">Генеруйте детальні звіти для лікаря, переглядайте статистику за будь-який період та аналізуйте ефективність лікування.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 pt-4 border-top">
                        <div class="row">
                            <div class="col-md-6 mb-3 mb-md-0">
                                <div class="d-flex align-items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#28a745" class="me-2" viewBox="0 0 16 16">
                                        <path d="M2.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                                    </svg>
                                    <span class="text-muted">Автоматичне збереження всіх записів</span>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="d-flex align-items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#28a745" class="me-2" viewBox="0 0 16 16">
                                        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                    </svg>
                                    <span class="text-muted">Експорт даних для лікаря</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="home-stats section bg-light py-5">
    <div class="container">
        <div class="row g-4 stats-overview justify-content-center">
            <div class="col-md-6 col-xl-4">
                <div class="stats-card stats-card--patients h-100 p-4 d-flex align-items-center gap-3">
                    <div class="stats-icon stats-icon--primary d-flex align-items-center justify-content-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M6 8a3 3 0 1 0-2.83-4h1.09A2 2 0 1 1 8 6a2.989 2.989 0 0 1-.879 2.121A3.987 3.987 0 0 0 4 10h1a3 3 0 0 1 3-3c.565 0 1.096.156 1.553.427A4.5 4.5 0 1 1 6 15H2a4 4 0 1 1 4-7zm7 2.5a2.5 2.5 0 1 0-4.762.928A4.007 4.007 0 0 1 10 13h2a3.98 3.98 0 0 1 1-.133z"/>
                        </svg>
                    </div>
                    <div>
                        <p class="stats-card__label mb-1">Пацієнтів в системі</p>
                        <p class="stats-card__number mb-0">{{ patient_count }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-xl-4">
                <div class="stats-card stats-card--entries h-100 p-4 d-flex align-items-center gap-3">
                    <div class="stats-icon stats-icon--accent d-flex align-items-center justify-content-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 0a4.5 4.5 0 0 1 4.473 4H14a2 2 0 0 1 2 2v5.5a1.5 1.5 0 0 1-3 0V10h-.5a.5.5 0 0 0 0 1H13v.5a2.5 2.5 0 0 0 5 0V6a3 3 0 0 0-3-3h-.38A4.5 4.5 0 0 1 8 0ZM4.5 6.5A4.5 4.5 0 0 1 9 2a4.5 4.5 0 0 0 0 9H9v1.5a1.5 1.5 0 0 0 3 0V10h-.5a.5.5 0 0 1 0-1H12v-.5a4.5 4.5 0 1 0-7.5-2Z"/>
                            <path d="M7 15.5A3.5 3.5 0 0 1 3.5 12H3v1.5a1.5 1.5 0 0 1-3 0V8a2 2 0 0 1 2-2h.527a4.5 4.5 0 0 0 8.946 0H12a2 2 0 0 1 2 2v3.5a1.5 1.5 0 0 1-3 0V11h-.5a.5.5 0 0 1 0-1H11V9.5a3.5 3.5 0 0 1-7 0V10h.5a.5.5 0 0 1 0 1H4v.5a3.5 3.5 0 1 1 3 3.465Z"/>
                        </svg>
                    </div>
                    <div>
                        <p class="stats-card__label mb-1">Усього записів</p>
                        <p class="stats-card__number mb-0">{{ total_entries }}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
